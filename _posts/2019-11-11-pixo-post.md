---
layout: post
title: "픽소 개발팀이 협업을 하는 방법"
description: "픽소 개발팀의 협업 방식에 대하여 간략하게 이야기해 보고자 합니다."
date: 2019-11-11
tags: []
comments: true
share: true
---
 
픽소의 개발팀은 현재 4명의 iOS 개발자로 구성되어 있습니다.  
스타트업 규모에서 다수의 iOS개발자가 모여서 협업을 하는 일은 그리 흔한일이 아닙니다.
하지만 픽소는 여러 앱이 서비스 중이고 헤비 유저가 많기 때문에 협업에 대한 고민은 선택이 아닌 필수입니다.  

항상 고민 중인 픽소 개발팀의 협업 방식에 대하여 간략하게 이야기해 보고자 합니다.

## 애자일과 스프린트
픽소의 개발팀은 `애자일` 기반으로 일을 합니다.  
매주 스프린트를 진행하여 일감을 나누고 리뷰를 통해 개선을 해나가고 있습니다. 일감을 나누고 할당하고 소통하는 과정은 `아사나`를 이용합니다.  
아사나는 Task를 생성하고 milestone을 결정, 관리하며 팀의 진행상황을 도식화 할 수 있어 자신과 동료의 현재 상태를 쉽게 파악할 수 있습니다.  

우리는 다음의 과정으로 스프린트를 진행하고 있습니다.

- **`Backlog`**  
각각의 앱에서 해야할 앞으로의 일들을 모두 기록하고 담당자를 정합니다.  
- **`Ready to do`**  
우선순위를 정하고 분석합니다.  
- **`In progress`**  
개발을 진행합니다.  
- **`In review`**  
개발팀 내부 테스트 후 코드 리뷰를 진행합니다.  
모두의 승인이 없으면 develop branch에 병합할 수 없습니다.  
- **`Done`**  
전체 테스트 후 출시를 기다립니다.  
- **`Deploy`**  
출시하여 서비스를 시작합니다.  

## 개발과 git branch 전략
보통 개발팀의 상황은 이렇습니다.

큰 단위로 진행하는 일을 다 같이 나눠서 개발합니다.  
하지만 다른 앱 들의 주기적인 업데이트도 항상 필요하기 마련입니다.  
때문에 누군가는 [로고샵](https://apps.apple.com/kr/app/로고샵-로고만들기-로고-그래픽-디자인/id1190077343)의 버그를 수정하고 있을 수도 있고 누군가는 [베이비스토리](https://apps.apple.com/kr/app/베이비그램-육아-포토북/id1068110571)의 새로운 기능을 개발하거나 공통으로 쓰일 components를 모듈화하고 있을 수도 있습니다.  
이런 상황에서 `git branch 전략`은 매우 중요합니다.

픽소는 기본적인 git branch 전략으로 `gitflow`를 채택하고 있으며 각 프로덕트만의 특수한 상황을 고려하여 최적화하고 있습니다.

![큰 이미지](/images/gitflow.jpg)

- **`master`**  
서비스 중인 최신 source branch  
- **`develop`**  
출시 예정인 기능을 개발하는 branch  
- **`release`**  
이번 출시 버전을 준비하는 branch  
- **`feature`**  
기능을 개발하는 branch  
- **`hotfix`**  
출시 버전에서 발생한 버그를 수정하는 branch  
- **`debug`**  
오류 수정 branch  
- **`Rebase or Merge`**  
커밋 그래프를 단순화할 필요가 있을 경우 rebase를 진행합니다.  
pull request 승인 이후 스스로 merge합니다.  


긴 호흡의 스크럼일 경우 conflict를 최소화하기 위해 task-main-branch의 sub-branch를 운영하여 짧은 주기로 review하고 merge하는 방법을 사용하기도 합니다.

## 코드 리뷰와 테스트의 균형 잡기
작업이 끝나면 code에 대한 review를 요청합니다 (pull request)  
이때 요청을 받은 개발자는 자신이 하던 작업을 멈추고 reivew할 branch에 체크아웃합니다. 이후 소스코드를 읽고 버그를 예측하거나 실행시킵니다.  
하지만 이러한 방식의 리뷰는 버그 테스팅도 포함하기 때문에 코드에 대해서만 리뷰할 수 없습니다. 때문에 리뷰에 대한 시간이 길어지고 이는 작업에 대한 병목현상으로 이어질 수 밖에 없었습니다.

## 개발팀 내부 테스트의 필요성
위와 같은 문제를 해결하기 위해 전체 QA이전에 개발팀 내부 테스트를 진행하는 것이 어떨까 하는 고민을 시작하였고 다음의 조건을 우선으로 테스트 규칙을 만들게 되었습니다. 

1. 진행중인 작업에 대한 방해를 최소화하기 위해 [AppCenter](https://appcenter.ms/)를 이용하여 배포합니다.
2. 앱의 사용성과 시나리오에 대해서만 검증합니다.

개발팀 내부 테스트에서 발견되는 버그는 중요도와 작업의 시간을 고려하여 Task로 다시 생성할 것인지를 결정합니다.  
간단하게 수정이 가능하다면 다시 배포하여 테스트합니다.

## 코드 리뷰
개발팀 내부 테스트가 끝나면 Code review가 진행됩니다.  
요청을 받은 개발팀의 구성원 모두가 review를 진행하며 모두의 승인이 이루어지고 난 후 merge할 수 있습니다. (픽소의 개발팀은 모두 스스로 merge합니다.)  
pull request를 받게 되면 진행중인 개발을 잠시 멈추고 review를 진행해야 하기 때문에 규칙을 세워놓지 않는다면 계속 시간이 지연되는 문제가 발생할 수 있습니다.  
그래서 픽소는 PR후 24시간 이내에 리뷰를 완료하도록 권장하고 있습니다.

## 맺으며
픽소에서 같이 협업하는 경험을 통해서 저는 모두의 갈등을 최소화하는 방법으로서 규칙과 시스템이 존재하는 것이 아닐까 하는 생각을 하게 되었습니다.  
우리에게 맞는 규칙과 시스템을 계속해서 발전시켜 나가고 구성원이 함께 성장하는 개발문화를 꿈꾸는 일이 매우 즐겁다고 느껴지기도 합니다. 아마도 실현시킬 기회가 주어지기 때문이 아닐까요.

함께 방법을 고민하고 제품을 만들 멋진 개발자들과 다 같이 성장할 미래가 앞으로 매우 기대됩니다.






